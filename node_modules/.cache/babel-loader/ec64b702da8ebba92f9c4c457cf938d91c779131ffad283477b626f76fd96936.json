{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from'./Sidenavbar/Sidebar';import Home from'./Todosection/TodoList';import{useState,useEffect}from'react';import{ethers}from'ethers';import abi from'./contractJson/TodoLists.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({provider:null,signer:null,contract:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState('Not connected'),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),signer=_useState6[0],setSigner=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),acc=_useState8[0],setacc=_useState8[1];useEffect(function(){var template=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contractAddress,contractABI,_window,ethereum,_account,provider,_signer,contract;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:contractAddress=\"0x0F46eC23f8A3e8496d66E285b744f918Ef28e0c2\";contractABI=abi.abi;// code to connect to metamask\n// metamask is used for following:-\n// 1. In order do transactions on goerli test n/w\n//2. metamask consists of infura api which helps to connect to the blockchain\n_context.prev=2;_window=window,ethereum=_window.ethereum;_context.next=6;return ethereum.request({method:\"eth_requestAccounts\"});case 6:_account=_context.sent;window.ethereum.on(\"accountsChanged\",function(){window.location.reload();});setAccount(_account);provider=new ethers.providers.Web3Provider(ethereum);// read the blockchain\n_context.next=12;return provider.getSigner();case 12:_signer=_context.sent;// write the blockchain\nsetSigner(_signer);console.log(\"signer\",_signer);contract=new ethers.Contract(contractAddress,contractABI,_signer);setState({provider:provider,signer:_signer,contract:contract});// console.log(\"this a state\",state);\n// console.log(contract);\nsetacc(_signer.getAddress());// console.log(signer.getAddress());\n_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](2);alert(_context.t0);case 23:case\"end\":return _context.stop();}},_callee,null,[[2,20]]);}));return function template(){return _ref.apply(this,arguments);};}();template();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_address\",style:{color:\"white\"},children:/*#__PURE__*/_jsx(\"center\",{children:account})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Home,{state:state,acc:acc})]})]});}export default App;","map":{"version":3,"names":["Navbar","Home","useState","useEffect","ethers","abi","jsx","_jsx","jsxs","_jsxs","App","_useState","provider","signer","contract","_useState2","_slicedToArray","state","setState","_useState3","_useState4","account","setAccount","_useState5","_useState6","setSigner","_useState7","_useState8","acc","setacc","template","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractAddress","contractABI","_window","ethereum","_account","_signer","wrap","_callee$","_context","prev","next","window","request","method","sent","on","location","reload","providers","Web3Provider","getSigner","console","log","Contract","getAddress","t0","alert","stop","apply","arguments","className","children","style","color"],"sources":["C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/src/App.js"],"sourcesContent":["\nimport Navbar from './Sidenavbar/Sidebar';\nimport Home from './Todosection/TodoList'\nimport { useState,useEffect } from 'react';\nimport {ethers} from 'ethers';\nimport abi from './contractJson/TodoLists.json';\n \n\nfunction App() {\n  const [state, setState] = useState({provider:null,signer:null,contract:null});\n  const [account,setAccount]=useState('Not connected');\n  const [signer,setSigner]=useState(null);\n \n \n  \n  const [acc,setacc] = useState(null);\n  useEffect(()=>{\n     const template= async()=>{\n          const contractAddress = \"0x0F46eC23f8A3e8496d66E285b744f918Ef28e0c2\";\n          const contractABI = abi.abi;\n\n          // code to connect to metamask\n          // metamask is used for following:-\n          // 1. In order do transactions on goerli test n/w\n          //2. metamask consists of infura api which helps to connect to the blockchain\n        \n          try{\n          const {ethereum}=window;\n             \n          const account= await ethereum.request({\n            method:\"eth_requestAccounts\"\n          });\n           \n      \n          window.ethereum.on(\"accountsChanged\",()=>{\n            window.location.reload();\n          })\n          setAccount(account);\n          const provider = new ethers.providers.Web3Provider(ethereum); // read the blockchain\n         const signer =await provider.getSigner(); // write the blockchain\n          setSigner(signer);\n          console.log(\"signer\",signer);\n          \n          const contract= new ethers.Contract(\n            contractAddress,\n            contractABI,\n            signer\n          );\n          \n          \n          setState({provider,signer,contract});\n          \n          // console.log(\"this a state\",state);\n          // console.log(contract);\n          setacc(signer.getAddress());\n          // console.log(signer.getAddress());\n          \n        }\n        catch(error){\n          alert(error);\n        }\n     }\n     \ntemplate();\n  },[]);\n  \n  return (\n    <div className=\"App\">\n      <div className=\"top_address\" style={{color:\"white\"}}>\n        <center>{account}</center>\n      </div>\n      <div className=\"main-content\">\n      <Navbar/>\n      \n      <Home state={state} acc={acc}/>\n       </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}