{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./todo.css';import{useState,useEffect}from'react';import Board from'../Todo-board/Boards';import AddList from'../Todo-board/AddList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(_ref){var state=_ref.state,acc=_ref.acc;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Todos=_useState2[0],setTodos=_useState2[1];var contract=state.contract;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setVisible=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),updatetodo=_useState6[0],setUpdate=_useState6[1];function addForm(itemobj){setVisible(true);setUpdate(itemobj);}useEffect(function(){var TodoMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var todos;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return contract.getTodos(acc);case 3:todos=_context.sent;setTodos(todos);console.log(\"this is the todos\",Todos);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function TodoMessage(){return _ref2.apply(this,arguments);};}();contract&&TodoMessage();},[contract]);var editForm=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var _contract,listid,todotitle,tododescription,transaction;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;event.preventDefault();_contract=state.contract;listid=updatetodo[0];todotitle=document.querySelector(\"#update-title\").value;if(todotitle===\"\"){todotitle=updatetodo[1].title;}tododescription=document.querySelector(\"#update-description\").value;if(tododescription===\"\"){console.log(\"desc\");tododescription=updatetodo[1].description;}_context2.next=10;return _contract.updateTodo(updatetodo[1].id,listid,todotitle,tododescription);case 10:transaction=_context2.sent;alert(\"Wait for while util you get success message\");document.body.style.cursor='progress';_context2.next=15;return transaction.wait();case 15:document.body.style.cursor='auto';alert(\"transaction is successfully added \");window.location.reload();setVisible(false);_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0);case 24:case\"end\":return _context2.stop();}},_callee2,null,[[0,21]]);}));return function editForm(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-nav\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-heading\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Section\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-data\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"icons/Wallet.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-content\",children:\"0.2$XYZ\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tier\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Tier 1\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"board-container\",children:[Todos.map(function(list){return/*#__PURE__*/_jsx(Board,{state:state,addForm:addForm,listid:list.id,todos:list[1],uniqueid:list.id},list.id);}),/*#__PURE__*/_jsx(AddList,{state:state})]}),visible&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-drawer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"arrow-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"icons/Path.png\",alt:\"arrow\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-title\",children:\"Edit Todo\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"update-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return editForm(e);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"\",id:\"update-title\",placeholder:updatetodo[1].title}),/*#__PURE__*/_jsx(\"textarea\",{name:\"\",id:\"update-description\",placeholder:updatetodo[1].description}),/*#__PURE__*/_jsx(\"button\",{children:\"Save\"})]})})]})]})]});};export default Home;","map":{"version":3,"names":["useState","useEffect","Board","AddList","jsx","_jsx","jsxs","_jsxs","Home","_ref","state","acc","_useState","_useState2","_slicedToArray","Todos","setTodos","contract","_useState3","_useState4","visible","setVisible","_useState5","_useState6","updatetodo","setUpdate","addForm","itemobj","TodoMessage","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","todos","wrap","_callee$","_context","prev","next","getTodos","sent","console","log","t0","stop","apply","arguments","editForm","_ref3","_callee2","event","_contract","listid","todotitle","tododescription","transaction","_callee2$","_context2","preventDefault","document","querySelector","value","title","description","updateTodo","id","alert","body","style","cursor","wait","window","location","reload","_x","className","children","src","alt","map","list","uniqueid","onSubmit","e","type","placeholder","name"],"sources":["C:/Users/Riyas/OneDrive/Desktop/Defi/todoapp/src/Todosection/TodoList.js"],"sourcesContent":["import './todo.css';\r\nimport { useState,useEffect } from 'react';\r\n\r\nimport Board from '../Todo-board/Boards';\r\nimport AddList from '../Todo-board/AddList';\r\nconst Home = ({state,acc}) => {\r\n    const [Todos,setTodos] = useState([]);\r\n    const {contract} = state;\r\n    const [visible,setVisible]=useState(false);\r\n    const [updatetodo,setUpdate]=useState([]);\r\n\r\n    function addForm(itemobj){\r\n      \r\n       setVisible(true);\r\n       setUpdate(itemobj);\r\n    }\r\n    \r\n    useEffect(()=>{\r\n       const TodoMessage=async()=>{\r\n          \r\n        try{\r\n          const todos=await contract.getTodos(acc);\r\n        \r\n          \r\n          setTodos(todos);\r\n          console.log(\"this is the todos\",Todos);\r\n        }catch(error){\r\n          console.log(error);\r\n        }\r\n       }   \r\n       \r\n       contract && TodoMessage();\r\n    },[contract]);\r\n    \r\n    \r\n    const editForm=async(event)=>{\r\n      try{\r\n        event.preventDefault();\r\n        const {contract} = state;\r\n\r\n        const listid = updatetodo[0];\r\n        let todotitle = document.querySelector(\"#update-title\").value;\r\n        if(todotitle===\"\"){\r\n          todotitle=updatetodo[1].title;\r\n        }\r\n\r\n        let tododescription = document.querySelector(\"#update-description\").value;\r\n        if(tododescription===\"\"){\r\n          console.log(\"desc\")\r\n          tododescription=updatetodo[1].description;\r\n        }\r\n        \r\n        const transaction = await contract.updateTodo(updatetodo[1].id,listid,todotitle,tododescription);\r\n        alert(\"Wait for while util you get success message\");\r\n        document.body.style.cursor = 'progress';\r\n      await transaction.wait();\r\n      document.body.style.cursor = 'auto';\r\n        alert(\"transaction is successfully added \");\r\n        window.location.reload();\r\n        setVisible(false);\r\n      }catch(error){\r\n        alert(error);\r\n      }\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n        \r\n        \r\n\r\n         \r\n            <div className=\"section-nav\" >\r\n             \r\n                      <div className=\"section-heading\">\r\n                              <h2>Section</h2>\r\n                      </div>\r\n                       <div className=\"wallet-data\">\r\n                            <img src=\"icons/Wallet.png\" alt=\"\" />\r\n                            <div className=\"w-content\">0.2$XYZ</div>\r\n                            <div className=\"tier\">\r\n                            <p>Tier 1</p></div>\r\n                       </div>\r\n            \r\n                   \r\n          \r\n          </div>\r\n            <div className=\"main\" >\r\n           \r\n           <div className=\"board-container\">\r\n           {Todos.map((list)=>{\r\n                  \r\n                  return <Board state={state} addForm={addForm} listid={list.id} key={list.id} todos={list[1]} uniqueid={list.id}/>\r\n              })}\r\n\r\n              <AddList state={state}/>\r\n            \r\n           </div>\r\n          {visible && <div className=\"form-drawer\">\r\n                \r\n                 <div className=\"form-head\">\r\n                       <div className=\"arrow-img\">\r\n                          <img src=\"icons/Path.png\" alt=\"arrow\" />\r\n                       </div>\r\n                       <div className=\"form-title\">\r\n                          Edit Todo\r\n                       </div>\r\n                 </div>\r\n                 <div className=\"update-form\">\r\n                         <form onSubmit={(e)=>editForm(e)}>\r\n\r\n                           <input type=\"text\" className=\"\" id=\"update-title\" placeholder={updatetodo[1].title}  />\r\n                           <textarea name=\"\"  id=\"update-description\" placeholder={updatetodo[1].description}></textarea>\r\n                           <button>Save</button>\r\n                         </form>\r\n                 </div>\r\n           </div>}\r\n     \r\n            </div>\r\n            \r\n        </div>\r\n      );\r\n}\r\n \r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}